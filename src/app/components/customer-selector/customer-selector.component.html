<div class="customer-selector">
    <h3>Select a Customer</h3>

    <!-- Search Box -->
    <mat-form-field appearance="outline" class="search-box">
        <mat-label>Search Customer</mat-label>
        <input matInput [(ngModel)]="searchTerm" placeholder="Enter name or phone number" [matAutocomplete]="auto">
        <mat-icon matSuffix>search</mat-icon>
    </mat-form-field>
    
    <mat-autocomplete #auto="matAutocomplete">
        <mat-option *ngFor="let customer of filteredCustomers" [value]="customer.name" (onSelectionChange)="selectCustomer(customer)">
            <mat-icon>{{ customer.type === 'individual' ? 'person' : 'business' }}</mat-icon>
            {{ customer.name }} ({{ customer.phoneNumber }})
        </mat-option>
    </mat-autocomplete>

    <!-- Selected Customer Box -->
    <div *ngIf="selectedCustomer" class="selected-customer">
        <mat-card>
            <mat-card-header>
                <mat-card-title>Selected Customer</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <p><strong>Name:</strong> {{ selectedCustomer.full_name }}</p>
                <p><strong>Phone:</strong> {{ selectedCustomer.phone_number }}</p>
                <p><strong>Email:</strong> {{ selectedCustomer.email }}</p>
            </mat-card-content>
        </mat-card>
    </div>
</div>
