<div class="insurance-details-form">
    <h3>Insurance Details</h3>

    <!-- Policy Type -->
    <mat-form-field appearance="fill">
        <mat-label>Policy Type</mat-label>
        <mat-select [(ngModel)]="insuranceDetails.policyType" required>
            <mat-option *ngFor="let type of policyTypes" [value]="type">{{ type }}</mat-option>
        </mat-select>
    </mat-form-field>

    <!-- Insurance Start Date -->
    <mat-form-field appearance="fill">
        <mat-label>Start Date</mat-label>
        <input matInput [matDatepicker]="startDatePicker" [(ngModel)]="insuranceDetails.startDate" required />
        <mat-datepicker-toggle matSuffix [for]="startDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #startDatePicker></mat-datepicker>
    </mat-form-field>

    <!-- Insurance End Date -->
    <mat-form-field appearance="fill">
        <mat-label>End Date</mat-label>
        <input matInput [matDatepicker]="endDatePicker" [(ngModel)]="insuranceDetails.endDate" required />
        <mat-datepicker-toggle matSuffix [for]="endDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #endDatePicker></mat-datepicker>
    </mat-form-field>

    <!-- Vehicle Value -->
    <mat-form-field appearance="fill">
        <mat-label>Vehicle Value (TZS)</mat-label>
        <input matInput type="number" [(ngModel)]="insuranceDetails.vehicleValue" required />
    </mat-form-field>

    <!-- Insured Amount -->
    <mat-form-field appearance="fill">
        <mat-label>Insured Amount (TZS)</mat-label>
        <input matInput type="number" [(ngModel)]="insuranceDetails.insuredAmount" required />
    </mat-form-field>

    <!-- Coverage Type -->
    <mat-form-field appearance="fill">
        <mat-label>Coverage Type</mat-label>
        <mat-select [(ngModel)]="insuranceDetails.coverageType" required>
            <mat-option *ngFor="let type of coverageTypes" [value]="type">{{ type }}</mat-option>
        </mat-select>
    </mat-form-field>

    <!-- Coverage Options -->
    <mat-checkbox [(ngModel)]="insuranceDetails.thirdPartyCoverage">Third Party Coverage</mat-checkbox>
    <mat-checkbox [(ngModel)]="insuranceDetails.passengerCoverage">Passenger Coverage</mat-checkbox>
    <mat-checkbox [(ngModel)]="insuranceDetails.theftCoverage">Theft Coverage</mat-checkbox>

    <!-- Deductible -->
    <mat-form-field appearance="fill">
        <mat-label>Deductible (TZS)</mat-label>
        <input matInput type="number" [(ngModel)]="insuranceDetails.deductible" required />
    </mat-form-field>

    <!-- Premium Amount -->
    <mat-form-field appearance="fill">
        <mat-label>Premium Amount (TZS)</mat-label>
        <input matInput type="number" [(ngModel)]="insuranceDetails.premiumAmount" required />
    </mat-form-field>

    <!-- Agent Information -->
    <mat-form-field appearance="fill">
        <mat-label>Agent Name</mat-label>
        <input matInput [(ngModel)]="insuranceDetails.agentName" required />
    </mat-form-field>

    <mat-form-field appearance="fill">
        <mat-label>Agent Phone</mat-label>
        <input matInput [(ngModel)]="insuranceDetails.agentPhone" required />
    </mat-form-field>

    <!-- Document Upload -->
    <div class="document-upload">
        <mat-label>Upload Relevant Documents</mat-label>
        <input type="file" (change)="onDocumentUpload($event)" multiple accept="image/*,application/pdf" />
        <div class="document-preview" *ngIf="insuranceDetails.uploadedDocuments.length">
            <h4>Uploaded Documents</h4>
            <div class="document-thumbnail-container">
                <div *ngFor="let document of insuranceDetails.uploadedDocuments" class="document-thumbnail">
                    <mat-icon>description</mat-icon>
                    <span>{{ document.split('/').pop() }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Submit Button -->
    <div class="submit-container">
        <button mat-raised-button color="primary" (click)="submitForm()">Submit</button>
    </div>
</div>